<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Il Mio Profilo - Wali Wheels</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/utilities.css">
    <link rel="stylesheet" href="css/ultra-modern-buttons.css">
    <link rel="stylesheet" href="css/site-optimizations.css">
    <link rel="stylesheet" href="css/auth-modal.css">
    <meta name="theme-color" content="#0f172a">
</head>
<body>
    <!-- Header Glass -->
    <header class="header-glass gpu-accelerated">
        <nav class="nav-container">
            <div class="nav-brand gpu-accelerated">
                <div class="logo-glow preserve-3d">
                    <span class="logo-text">Wali</span>
                    <span class="logo-accent">Wheelse</span>
                </div>
            </div>
            
            <ul class="nav-menu preserve-3d">
                <li><a href="index.html" class="nav-link preserve-3d">Home</a></li>
                <li><a href="catalogo.html" class="nav-link preserve-3d">Catalogo</a></li>
                <li><a href="esplora-macchine.html" class="nav-link preserve-3d">Esplora Macchine</a></li>
                <li><a href="admin.html" class="nav-link preserve-3d">Admin Panel</a></li>
                <li><a href="chi-siamo.html" class="nav-link preserve-3d">Chi Siamo</a></li>
                <li><a href="finanziamento.html" class="nav-link preserve-3d">Finanziamento</a></li>
                <li><a href="contatti.html" class="nav-link preserve-3d">Contatti</a></li>
            </ul>
            
            <div class="nav-actions">
                <div class="auth-container" id="authContainer"></div>
                <a href="index.html" class="glass-button" style="margin-right: 10px;">⬅ Torna alla Home</a>
            </div>
        </nav>
    </header>

    <!-- Profile Section -->
    <section class="profile-section preserve-3d" style="margin-top: 100px; padding: 2rem;">
        <div class="profile-container" style="max-width: 800px; margin: 0 auto;">
            <!-- Profile Header -->
            <div class="profile-header-card glass preserve-3d" style="text-align: center; padding: 3rem 2rem; margin-bottom: 2rem;">
                <div class="profile-avatar-large" style="width: 120px; height: 120px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, #00ff88, #00cc6a); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000;">
                    <svg viewBox="0 0 24 24" fill="currentColor" style="width: 60px; height: 60px;">
                        <path d="M12 12c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm0 2c-3.33 0-10 1.67-10 5v3h20v-3c0-3.33-6.67-5-10-5z"/>
                    </svg>
                </div>
                <h1 class="profile-title" style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; background: linear-gradient(135deg, #00ff88, #00cc6a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Il Mio Profilo</h1>
                <p class="profile-subtitle" style="color: rgba(255, 255, 255, 0.7); font-size: 1.1rem;">Gestisci i tuoi dati personali e le impostazioni dell'account</p>
            </div>

            <!-- Profile Form -->
            <div class="profile-form-card glass preserve-3d" style="padding: 2rem;">
                <form id="profileForm" class="profile-form">
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label for="firstName" class="form-label">Nome</label>
                            <input type="text" id="firstName" name="firstName" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName" class="form-label">Cognome</label>
                            <input type="text" id="lastName" name="lastName" class="form-input" required>
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" id="email" name="email" class="form-input" required>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="phone" class="form-label">Telefono</label>
                        <input type="tel" id="phone" name="phone" class="form-input">
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="address" class="form-label">Indirizzo</label>
                        <textarea id="address" name="address" class="form-input" rows="3"></textarea>
                    </div>
                    
                    <div class="form-actions" style="display: flex; gap: 1rem; justify-content: center;">
                        <button type="submit" class="glass-button primary shimmer magnetic">Salva Modifiche</button>
                        <button type="button" class="glass-button" onclick="resetForm()">Ripristina</button>
                    </div>
                </form>
            </div>

            <!-- Account Actions -->
            <div class="account-actions-card glass preserve-3d" style="padding: 2rem; margin-top: 2rem;">
                <h3 style="font-size: 1.5rem; margin-bottom: 1.5rem; color: #00ff88;">Azioni Account</h3>
                
                <div class="action-buttons" style="display: flex; flex-direction: column; gap: 1rem;">
                    <button onclick="changePassword()" class="glass-button secondary shimmer magnetic" style="justify-content: center;">
                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 18px; height: 18px; margin-right: 8px;">
                            <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10z"/>
                        </svg>
                        Cambia Password
                    </button>
                    
                    <button onclick="exportData()" class="glass-button secondary shimmer magnetic" style="justify-content: center;">
                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 18px; height: 18px; margin-right: 8px;">
                            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                        </svg>
                        Esporta Dati
                    </button>
                    
                    <button onclick="deleteAccount()" class="glass-button danger shimmer magnetic" style="justify-content: center; background: linear-gradient(135deg, #ff6b6b, #ee5a52);">
                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 18px; height: 18px; margin-right: 8px;">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                        </svg>
                        Elimina Account
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Delete Account Modal -->
    <div id="deleteModal" class="modal-overlay" style="display: none;">
        <div class="modal-content glass preserve-3d" style="max-width: 500px;">
            <div class="modal-header preserve-3d">
                <h3 style="color: #ff6b6b;">⚠️ Elimina Account</h3>
                <button class="modal-close glass preserve-3d" onclick="closeDeleteModal()">&times;</button>
            </div>
            <div class="modal-body preserve-3d" style="padding: 2rem;">
                <p style="margin-bottom: 1.5rem; color: rgba(255, 255, 255, 0.9);">
                    Sei sicuro di voler eliminare definitivamente il tuo account? Questa azione non può essere annullata.
                </p>
                <div class="form-group" style="margin-bottom: 1.5rem;">
                    <label for="confirmEmail" class="form-label">Digita la tua email per confermare:</label>
                    <input type="email" id="confirmEmail" class="form-input" placeholder="email@example.com">
                </div>
                <div class="form-actions" style="display: flex; gap: 1rem; justify-content: center;">
                    <button onclick="confirmDeleteAccount()" class="glass-button danger shimmer magnetic">Elimina Definitivamente</button>
                    <button onclick="closeDeleteModal()" class="glass-button secondary">Annulla</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/auth-system.js"></script>
    <script src="js/auth-modal-new.js" data-defer></script>
    <script src="js/ultra-modern-buttons.js" data-defer></script>
    <script src="js/site-optimizer.js" data-defer></script>
    <script src="js/cookie-manager.js" data-defer></script>
</body>
</html>
